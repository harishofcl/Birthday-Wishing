/* ====== Intro overlay + helpers (paste at top of styles.css) ====== */

/* ensures any elements JS marks `.hidden` are actually hidden */
.hidden { display: none !important; visibility: hidden !important; pointer-events: none !important; }

/* intro overlay that enhance.js injects */
.intro-overlay {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 99999;
  background: linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.5));
  padding: 20px;
}

/* card inside intro overlay */
.intro-overlay .card {
  width: min(920px, 94%);
  max-width: 720px;
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
  padding: 24px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 18px 60px rgba(0,0,0,0.6);
  color: #fff;
  text-align: center;
  transform-origin: center;
  transition: opacity 280ms ease, transform 280ms ease;
}

/* clear, large buttons used in overlay */
.intro-overlay .page-nav {
  margin-top: 14px;
  padding: 10px 16px;
  border-radius: 10px;
  font-weight: 700;
  cursor: pointer;
}
.intro-overlay .page-nav.primary {
  background: linear-gradient(90deg, var(--accent1, #ff7aa2), var(--accent2, #ffd47a));
  color: #111;
  border: none;
}
.intro-overlay .page-nav.ghost {
  background: transparent;
  border: 1px solid rgba(255,255,255,0.08);
  color: #fff;
}

/* small explanatory paragraph styling */
.intro-overlay .card p {
  margin-top: 8px;
  color: rgba(255,255,255,0.92);
  line-height: 1.45;
  font-size: 1rem;
}

/* fallback in case body zoom transform hides the overlay - overlay must remain visible */
body:not(.zoom-ok) .intro-overlay { transform: none !important; }

/* keep overlay visible above other elements even if other z-index exist */

:root{
  --bg1-start: #ff9a9e;
  --bg1-end: #fad0c4;
  --glass-bg: rgba(255,255,255,0.06);
  --glass-border: rgba(255,255,255,0.12);
  --accent1: #ff7aa2;
  --accent2: #ffd47a;
  --muted: rgba(255,255,255,0.85);
  --maxWidth: 1200px;
}

/* Apply colorful background */
*{box-sizing:border-box}
html,body{
  height:100%;
  margin:0;
  font-family:Inter,system-ui,Segoe UI,Roboto,Arial;
  background: linear-gradient(135deg, var(--bg1-start), var(--bg1-end));
  color:#fff;
}

/* Slight zoom-out on very small screens until user confirms */
@media (max-width:420px){
  body:not(.zoom-ok){
    transform: scale(0.96);
    transform-origin: top center;
  }
}

/* Hide underlying content when intro overlay shown (no ghosting) */
.dimmed-hide {
  visibility: hidden !important;
  pointer-events: none !important;
  opacity: 0 !important;
}

/* Side notes */
.side-note{position:fixed;top:12%;width:200px;z-index:40;pointer-events:none}
.left-note{left:14px;transform:rotate(-5deg)}
.right-note{right:14px;transform:rotate(4deg)}
.side-note .note-inner{background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));border-radius:10px;padding:14px;border:1px solid rgba(255,255,255,0.04);box-shadow:0 12px 40px rgba(0,0,0,0.6);color:var(--muted);width:100%}
.side-note h4{margin:0 0 6px 0;font-family:'Short Stack',cursive;color:var(--accent1)}
.side-note p{margin:0;font-size:13px;color:rgba(255,255,255,0.78)}

/* decorative heart */
.heart.decorative-heart{
  width:120px;
  height:120px;
  border-radius:50%;
  left:8%;
  top:14%;
  position:fixed;
  background: linear-gradient(135deg,var(--accent1),var(--accent2));
  box-shadow: 0 10px 30px rgba(255,122,162,0.12);
  z-index:30;
  pointer-events:none;
}

/* guide + dropbox container */
.paper-guide{
  position:fixed;
  left:50%;
  top:auto;
  bottom:8%;
  transform:translateX(-50%);
  width:86%;
  max-width:460px;
  display:flex;
  flex-direction:column;
  gap:8px;
  align-items:center;
  z-index: 40;
  pointer-events: auto;
}

/* small text above dropbox */
.paper-guide .guide-text{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  padding:10px 12px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.04);
  color:rgba(255,255,255,0.95);
  font-weight:600;
  width:100%;
  text-align:center;
  box-shadow: 0 10px 24px rgba(0,0,0,0.35);
}

/* DROP BOX - small & responsive */
.dropbox {
  width: 220px;
  max-width: 86%;
  height: 84px;
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
  border-radius: 12px;
  display:flex;
  align-items:center;
  justify-content:center;
  border: 2px dashed rgba(255,255,255,0.08);
  color: rgba(255,255,255,0.92);
  font-weight:800;
  font-size:0.98rem;
  box-shadow: 0 10px 30px rgba(0,0,0,0.35);
  transition: transform 160ms ease, border-color 160ms ease, background 160ms ease, opacity 200ms;
  z-index: 41;
}

/* Drop active visual */
.dropbox.active {
  transform: translateY(-6px) scale(1.02);
  border-color: rgba(255,255,255,0.22);
  background: linear-gradient(90deg, rgba(255,122,162,0.14), rgba(255,212,122,0.10));
}

/* Paper base (unchanged) */
.paper{width:280px;min-height:180px;position:absolute;left:50%;top:60%;transform:translateX(-50%) translateY(-50%) rotateZ(0deg);border-radius:14px;cursor:grab;user-select:none;z-index:10;transition:box-shadow .18s ease}

/* Glass card style (unchanged mostly) */
.paper.glass{width:360px;min-height:260px;background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));border: 1px solid rgba(255,255,255,0.12);backdrop-filter: blur(8px) saturate(120%);box-shadow: 0 18px 50px rgba(2,6,23,0.6);overflow: hidden;display:flex;align-items:flex-end}
.glass-photo{position:relative;width:100%;height:100%;display:flex;flex-direction:column;justify-content:flex-end}
.glass-photo img{width:100%;height:72%;object-fit:cover;display:block}
.glass-caption{padding:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))}
.cap-title{font-weight:800;color:#fff;font-size:16px}
.cap-sub{font-size:13px;color:rgba(255,255,255,0.82);margin-top:6px}
.paper:hover{box-shadow:0 30px 80px rgba(2,6,23,0.7);transform:scale(1.02)}
@media (max-width:920px){
  .paper.glass{width:260px;min-height:200px}
  .side-note{display:none}
  .paper-guide{width:92%}
  .dropbox{width:200px;height:72px}
}

/* collected badge */
.collected-badge{position:absolute;top:8px;right:10px;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#111;padding:6px 8px;border-radius:999px;font-weight:700;font-size:12px;box-shadow:0 8px 20px rgba(0,0,0,0.45)}

/* collect overlay */
.collect-overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:20000;background:linear-gradient(180deg,rgba(0,0,0,0.56),rgba(0,0,0,0.6))}
.collect-overlay.open{display:flex}
.collect-card{background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01));padding:24px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);text-align:center;max-width:92%;width:420px}
.collect-card .btn{padding:10px 14px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#111;font-weight:700;cursor:pointer}

/* final surprise adjustments for mobile */
@media (max-width:600px){
  .page .title { font-size: 20px; }
  .page .desc { font-size: 16px; line-height:1.45; }
  .modal-card { padding: 14px; }
  .page .photo img { max-height: 46vh; object-fit:cover; }
  /* make final text bigger */
  .page.intro-text-page .intro-title { font-size: 26px !important; }
  .page.text-bg .text-title { font-size: 24px !important; }
}

/* small drag hint */
.drag-hint{
  position:fixed;
  left:50%;
  bottom:18%;
  transform:translateX(-50%);
  background: linear-gradient(90deg,var(--accent1),var(--accent2));
  color:#111;
  padding:8px 12px;
  border-radius:999px;
  font-weight:700;
  z-index:40000;
  box-shadow: 0 10px 30px rgba(0,0,0,0.45);
}
