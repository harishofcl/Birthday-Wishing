:root{
  --bg1:#071026;
  --glass-bg: rgba(255,255,255,0.06);
  --glass-border: rgba(255,255,255,0.12);
  --accent1: #ff7aa2;
  --accent2: #ffd47a;
  --muted: rgba(255,255,255,0.8);
  --maxWidth: 1200px;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,var(--bg1),#08112a);color:#fff}
body{overflow:auto}

/* Side notes */
.side-note{position:fixed;top:12%;width:200px;z-index:40;pointer-events:none}
.left-note{left:14px;transform:rotate(-5deg)}
.right-note{right:14px;transform:rotate(4deg)}
.side-note .note-inner{background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));border-radius:10px;padding:14px;border:1px solid rgba(255,255,255,0.04);box-shadow:0 12px 40px rgba(0,0,0,0.6);color:var(--muted);width:100%}
.side-note h4{margin:0 0 6px 0;font-family:'Short Stack',cursive;color:var(--accent1)}
.side-note p{margin:0;font-size:13px;color:rgba(255,255,255,0.78)}

/* decorative heart (non-draggable) */
.heart.decorative-heart{
  width:120px;
  height:120px;
  border-radius:50%;
  left:8%;
  top:14%;
  position:fixed;
  background: linear-gradient(135deg,var(--accent1),var(--accent2));
  box-shadow: 0 10px 30px rgba(255,122,162,0.12);
  z-index:30;
  pointer-events:none;
}

/* guide (non-draggable) */
.paper-guide{
  position:fixed;
  left:50%;
  top:86%;
  width:86%;
  max-width:520px;
  transform:translateX(-50%);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  padding:18px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.04);
  text-align:center;
  color:rgba(255,255,255,0.9);
  font-weight:600;
  z-index: 20;
  box-shadow: 0 12px 40px rgba(0,0,0,0.6);
  pointer-events: auto;
}

/* Paper base */
.paper{width:280px;min-height:180px;position:absolute;left:50%;top:60%;transform:translateX(-50%) translateY(-50%) rotateZ(0deg);border-radius:14px;cursor:grab;user-select:none;z-index:10;transition:box-shadow .18s ease}

/* Glass card style */
.paper.glass{width:360px;min-height:260px;background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));border: 1px solid var(--glass-border);backdrop-filter: blur(8px) saturate(120%);box-shadow: 0 18px 50px rgba(2,6,23,0.6);overflow: hidden;display:flex;align-items:flex-end}
.glass-photo{position:relative;width:100%;height:100%;display:flex;flex-direction:column;justify-content:flex-end}
.glass-photo img{width:100%;height:72%;object-fit:cover;display:block}
.glass-caption{padding:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))}
.cap-title{font-weight:800;color:#fff;font-size:16px}
.cap-sub{font-size:13px;color:rgba(255,255,255,0.82);margin-top:6px}
.paper:hover{box-shadow:0 30px 80px rgba(2,6,23,0.7);transform:scale(1.02)}
@media (max-width:920px){
  .paper.glass{width:260px;min-height:200px}
  .side-note{display:none}
  .paper-guide{width:92%}
}

/* Modal / pages (responsive & max width) */
.modal-slideshow{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:10001;background:linear-gradient(180deg, rgba(2,4,10,0.85), rgba(2,6,20,0.95));padding:28px}
.modal-slideshow.open{display:flex}
.modal-card{width:min(var(--maxWidth),96%);max-height:86vh;overflow:hidden;display:grid;grid-template-columns:1fr 360px;gap:14px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));border-radius:12px;padding:18px;border:1px solid rgba(255,255,255,0.03);align-items:center}
.modal-pages{width:100%;height:100%;display:grid;grid-template-rows:1fr auto;gap:12px;align-items:stretch}
.page-stage{display:flex;align-items:center;justify-content:center;gap:18px;padding:18px}
.page{width:100%;max-width:820px;height:72vh;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));border-radius:12px;display:flex;align-items:center;justify-content:center;flex-direction:row;gap:18px;padding:18px;box-shadow:0 10px 40px rgba(0,0,0,0.45);overflow:hidden;opacity:0;transform:translateY(10px) scale(.995);transition:opacity .5s ease, transform .6s cubic-bezier(.2,.9,.3,1)}
.page.active{opacity:1;transform:translateY(0) scale(1)}
.page .photo{flex:1;display:flex;align-items:center;justify-content:center}
.page .photo img{max-width:100%;max-height:72vh;object-fit:contain;border-radius:10px}
.page .text{width:360px;padding:12px;display:flex;flex-direction:column;gap:8px;justify-content:center}
.page .title{font-size:20px;font-weight:800;margin:0;color:#fff}
.page .desc{color:rgba(255,255,255,0.88);font-size:16px;line-height:1.4;min-height:76px}
.controls-row{display:flex;gap:10px;align-items:center;justify-content:center;padding:12px}
.page-progress{height:8px;background:rgba(255,255,255,0.06);border-radius:999px;overflow:hidden;width:60%}
.page-progress>i{display:block;height:100%;background:linear-gradient(90deg,var(--accent1),var(--accent2));width:0%;transition:width linear}
.page-nav{padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
.page-nav.ghost{background:transparent;border:1px solid rgba(255,255,255,0.08);color:#fff}
.page-nav.primary{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#111}
.page-dots{display:flex;gap:8px;align-items:center;justify-content:center}
.page-dots .dot{width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,0.12)}
.page-dots .dot.active{background:linear-gradient(90deg,var(--accent1),var(--accent2));box-shadow:0 4px 12px rgba(255,122,162,0.22)}
.typewriter{white-space:pre-wrap;font-family:inherit;position:relative}
.typewriter::after{content:'';display:inline-block;width:2px;height:1.05em;background:#fff;margin-left:6px;vertical-align:middle;animation:blinkCaret 900ms steps(1) infinite}
@keyframes blinkCaret{50%{opacity:0}}
.dimmed{filter:blur(2px) brightness(.8);transition:filter .36s ease}
@media (max-width:920px){
  .modal-card{grid-template-columns:1fr}
  .page{flex-direction:column;max-height:80vh}
  .page .text{width:100%}
  .page-progress{width:48%}
}

/* Intro page background overrides */
.page.intro-text-page{background-size:cover;background-position:center;position:relative;color:#fff}
.page.intro-text-page::before{content:'';position:absolute;inset:0;background:linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.35));z-index:1}
.page.intro-text-page .intro-text-wrap{position:relative;z-index:2;padding:28px;max-width:820px;text-align:center}
.page.intro-text-page .intro-title{font-size:28px;font-weight:800;margin-bottom:10px}
.page.intro-text-page .intro-desc{font-size:18px;line-height:1.6;min-height:200px;color:rgba(255,255,255,0.95)}

/* Text page 2 style (same as intro) */
.page.text-bg{background-size:cover;background-position:center;position:relative;color:#fff}
.page.text-bg::before{content:'';position:absolute;inset:0;background:linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.35));z-index:1}
.page.text-bg .text-wrap{position:relative;z-index:2;padding:28px;max-width:820px;text-align:center}
.page.text-bg .text-title{font-size:26px;font-weight:800;margin-bottom:10px}
.page.text-bg .text-desc{font-size:18px;line-height:1.6;min-height:160px;color:rgba(255,255,255,0.95)}

/* Floating thumbs */
.floating-thumbs{pointer-events:none;position:absolute;inset:8% 6% 6% auto;width:280px;height:80%;z-index:3;overflow:visible}
.floating-thumbs .thumb{position:absolute;width:68px;height:68px;border-radius:10px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,0.45);opacity:0;transform-origin:center}
@keyframes floatIn{0%{transform:translateY(40px) scale(.85) rotate(0deg);opacity:0}30%{opacity:1}100%{transform:translateY(-40px) scale(1) rotate(360deg);opacity:0.95}}
.floating-thumbs .thumb:nth-child(odd){animation:floatIn 9s linear infinite}
.floating-thumbs .thumb:nth-child(even){animation:floatIn 10s linear infinite reverse}
@media (max-width:920px){.floating-thumbs{display:none}}

/* collected badge */
.collected-badge{position:absolute;top:8px;right:10px;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#111;padding:6px 8px;border-radius:999px;font-weight:700;font-size:12px;box-shadow:0 8px 20px rgba(0,0,0,0.45)}

/* collect overlay (shown when all collected) */
.collect-overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:20000;background:linear-gradient(180deg,rgba(0,0,0,0.56),rgba(0,0,0,0.6))}
.collect-overlay.open{display:flex}
.collect-card{background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01));padding:24px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);text-align:center;max-width:92%;width:420px}
.collect-card h3{margin:0 0 10px 0;font-size:20px}
.collect-card p{margin:0 0 14px 0;color:rgba(255,255,255,0.9)}
.collect-card .btn{padding:10px 14px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#111;font-weight:700;cursor:pointer}

/* confetti piece */
.confetti-piece{ width:10px;height:14px;border-radius:2px;position:absolute; }

/* intro overlay (centered) */
.intro-overlay{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:50000;
  background: linear-gradient(180deg, rgba(0,0,0,0.46), rgba(0,0,0,0.6));
  padding:20px;
}
.intro-overlay .card{
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
  padding:28px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.04);
  text-align:center;
  max-width:720px;
  width:100%;
  color: #fff;
}

/* small drag hint */
.drag-hint{
  position:fixed;
  left:50%;
  bottom:18%;
  transform:translateX(-50%);
  background: linear-gradient(90deg,var(--accent1),var(--accent2));
  color:#111;
  padding:8px 12px;
  border-radius:999px;
  font-weight:700;
  z-index:40000;
  box-shadow: 0 10px 30px rgba(0,0,0,0.45);
}

@media (max-width:920px){
  .paper-guide{ width:92%; left:50%; transform:translateX(-50%); top:auto; bottom:6%; }
}
